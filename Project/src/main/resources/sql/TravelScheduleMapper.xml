<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="test.dao.TravelScheduleDao">
<resultMap type="travelMain" id="travelMainMap">
  <id column="TMNO" property="travelMainNo" />
    <result column="SCHNO" property="scheduleNo" />
    <result column="LOCNO" property="locationNo" />
    <result column="ST_DT" property="startDate" />
    <result column="ED_DT" property="endDate" />
    <result column="CONT" property="continent" />
    <result column="NATN" property="nation" />
    <result column="CITY" property="city" />
    </resultMap>

  <select id="selectMySchedule" resultMap="travelMainMap" parameterType="map">
    select tvl_sch.schno, tvl_sch.tmno, tvl_sch.locno, st_dt, ed_dt, cont, natn, city from tvl_sch
    inner join tvl_loc
    on tvl_sch.locno = tvl_loc.locno
    where tmno = #{travelPostNo}
  </select>
  
  <insert id="insert" parameterType="travelMain" >
    insert into tvl_sch(tmno,locno,st_dt,ed_dt)
    values(#{travelMainNo},#{locationNo}, #{startDate},#{endDate});
  </insert>
  
  <update id="update" parameterType="travelMain">
  update tvl_sch set 
    tmno=#{travelMainNo},
    locno=#{locationNo},
    st_dt=#{startDate},
    ed_dt=#{endDate}
  where schno=#{scheduleNo}
</update>

 <delete id="delete" parameterType="int">
  delete from tvl_sch 
  where schno=#{scheduleNo}
 </delete>

</mapper>




















